# å¤šçº§ç›®å½•æ‰«æåŠŸèƒ½å®ç°

## ğŸ¯ éœ€æ±‚æè¿°

ç”¨æˆ·å¸Œæœ›ç›®å½•é€‰æ‹©åŠŸèƒ½èƒ½å¤Ÿæ˜¾ç¤º `datasets` ç›®å½•ä¸­çš„æ‰€æœ‰å­ç›®å½•ï¼ŒåŒ…æ‹¬å¤šçº§åµŒå¥—çš„å­ç›®å½•ï¼Œè€Œä¸ä»…ä»…æ˜¯ç›´æ¥å­ç›®å½•ã€‚

## ğŸ” é—®é¢˜åˆ†æ

**ä¹‹å‰çš„è¡Œä¸º**ï¼š
- åªæ‰«æ `datasets` ç›®å½•çš„ç›´æ¥å­ç›®å½•
- æ— æ³•æ˜¾ç¤ºæ·±å±‚åµŒå¥—çš„ç›®å½•ç»“æ„
- ä¾‹å¦‚ï¼šæ— æ³•æ˜¾ç¤º `datasets/coco8/images/train` è¿™æ ·çš„å¤šçº§ç›®å½•

**æœŸæœ›çš„è¡Œä¸º**ï¼š
- é€’å½’æ‰«æ `datasets` ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•
- æ˜¾ç¤ºå®Œæ•´çš„ç›®å½•å±‚çº§ç»“æ„
- æ”¯æŒä»»æ„æ·±åº¦çš„ç›®å½•åµŒå¥—

## ğŸ› ï¸ ä¿®å¤æ–¹æ¡ˆ

### ä¿®æ”¹ `serve_directories` å‡½æ•°

**ä¿®æ”¹å‰**ï¼š
```python
# æ‰«æ datasets ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•
for item in datasets_dir.iterdir():
    if item.is_dir():
        # åªå¤„ç†ç›´æ¥å­ç›®å½•
```

**ä¿®æ”¹å**ï¼š
```python
# ä½¿ç”¨ os.walk é€’å½’éå†æ‰€æœ‰å­ç›®å½•
for root, dirs, files in os.walk(datasets_dir):
    # è·å–ç›¸å¯¹è·¯å¾„
    rel_path = os.path.relpath(root, self.base_dir)
    
    # è·³è¿‡ datasets æ ¹ç›®å½•æœ¬èº«
    if rel_path == 'datasets':
        continue
    
    # å¤„ç†æ‰€æœ‰å±‚çº§çš„ç›®å½•
```

### å…³é”®æ”¹è¿›

1. **é€’å½’æ‰«æ**ï¼šä½¿ç”¨ `os.walk()` é€’å½’éå†æ‰€æœ‰å­ç›®å½•
2. **å±‚çº§å¤„ç†**ï¼šå¤„ç†ä»»æ„æ·±åº¦çš„ç›®å½•åµŒå¥—
3. **è·¯å¾„ç®¡ç†**ï¼šæ­£ç¡®è®¡ç®—ç›¸å¯¹è·¯å¾„
4. **æ ¹ç›®å½•è·³è¿‡**ï¼šé¿å…åŒ…å« `datasets` æ ¹ç›®å½•æœ¬èº«

## âœ… ä¿®å¤ç»“æœ

### æµ‹è¯•éªŒè¯

è¿è¡Œæµ‹è¯•è„šæœ¬çš„ç»“æœï¼š

```
ğŸ“ å‘ç°çš„å›¾åƒç›®å½•: 5
ğŸ“ å‘ç°çš„æ ‡ç­¾ç›®å½•: 4

å›¾åƒç›®å½•:
        - datasets/coco8/images/test
        - datasets/coco8/images/train
        - datasets/coco8/images/val
    - datasets/images
      - datasets/visualizations/train

æ ‡ç­¾ç›®å½•:
        - datasets/coco8/labels/test
        - datasets/coco8/labels/train
        - datasets/coco8/labels/val
        - datasets/demo/labels/train

âœ… ç¡®è®¤: åªæ˜¾ç¤º datasets ç›®å½•ä¸‹çš„å­ç›®å½•
ğŸ“ å‘ç° 8 ä¸ªå¤šçº§å­ç›®å½•:
  - datasets/coco8/images/test
  - datasets/coco8/images/train
  - datasets/coco8/images/val
  - datasets/visualizations/train
  - datasets/coco8/labels/test
  - datasets/coco8/labels/train
  - datasets/coco8/labels/val
  - datasets/demo/labels/train
```

### æ”¹è¿›æ•ˆæœ

**ä¿®æ”¹å‰**ï¼š
- æ˜¾ç¤º 3 ä¸ªå›¾åƒç›®å½•ï¼ˆä»…ç›´æ¥å­ç›®å½•ï¼‰
- æ˜¾ç¤º 2 ä¸ªæ ‡ç­¾ç›®å½•ï¼ˆä»…ç›´æ¥å­ç›®å½•ï¼‰
- æ— æ³•è®¿é—®æ·±å±‚ç›®å½•

**ä¿®æ”¹å**ï¼š
- æ˜¾ç¤º 5 ä¸ªå›¾åƒç›®å½•ï¼ˆåŒ…æ‹¬å¤šçº§å­ç›®å½•ï¼‰
- æ˜¾ç¤º 4 ä¸ªæ ‡ç­¾ç›®å½•ï¼ˆåŒ…æ‹¬å¤šçº§å­ç›®å½•ï¼‰
- å‘ç° 8 ä¸ªå¤šçº§å­ç›®å½•
- æ”¯æŒå®Œæ•´çš„ç›®å½•å±‚çº§ç»“æ„

## ğŸ“ æ”¯æŒçš„ç›®å½•ç»“æ„

ç°åœ¨æ”¯æŒå®Œæ•´çš„åµŒå¥—ç›®å½•ç»“æ„ï¼š

```
datasets/
â”œâ”€â”€ coco8/                    # ä¸€çº§ç›®å½•
â”‚   â”œâ”€â”€ images/               # äºŒçº§ç›®å½•
â”‚   â”‚   â”œâ”€â”€ train/            # ä¸‰çº§ç›®å½• âœ…
â”‚   â”‚   â”œâ”€â”€ val/              # ä¸‰çº§ç›®å½• âœ…
â”‚   â”‚   â””â”€â”€ test/             # ä¸‰çº§ç›®å½• âœ…
â”‚   â””â”€â”€ labels/               # äºŒçº§ç›®å½•
â”‚       â”œâ”€â”€ train/            # ä¸‰çº§ç›®å½• âœ…
â”‚       â”œâ”€â”€ val/              # ä¸‰çº§ç›®å½• âœ…
â”‚       â””â”€â”€ test/             # ä¸‰çº§ç›®å½• âœ…
â”œâ”€â”€ demo/                     # ä¸€çº§ç›®å½•
â”‚   â””â”€â”€ labels/               # äºŒçº§ç›®å½•
â”‚       â””â”€â”€ train/            # ä¸‰çº§ç›®å½• âœ…
â”œâ”€â”€ images/                   # ä¸€çº§ç›®å½• âœ…
â””â”€â”€ visualizations/           # ä¸€çº§ç›®å½•
    â””â”€â”€ train/                # äºŒçº§ç›®å½• âœ…
```

## ğŸ¨ ç”¨æˆ·ä½“éªŒæ”¹è¿›

### 1. å®Œæ•´çš„ç›®å½•è®¿é—®
- å¯ä»¥è®¿é—®ä»»æ„æ·±åº¦çš„å­ç›®å½•
- æ”¯æŒå¤æ‚çš„é¡¹ç›®ç»“æ„
- ä¾¿äºç®¡ç†å¤§å‹æ•°æ®é›†

### 2. å±‚çº§æ˜¾ç¤º
- æµ‹è¯•è„šæœ¬ä¸­æ˜¾ç¤ºç›®å½•å±‚çº§ç¼©è¿›
- æ¸…æ™°å±•ç¤ºç›®å½•ç»“æ„å…³ç³»
- ä¾¿äºç†è§£é¡¹ç›®ç»„ç»‡

### 3. çµæ´»é€‰æ‹©
- å¯ä»¥é€‰æ‹©ä¸åŒå±‚çº§çš„ç›®å½•
- æ”¯æŒç»†ç²’åº¦çš„æ•°æ®é›†ç®¡ç†
- é€‚åº”å„ç§é¡¹ç›®éœ€æ±‚

## ğŸš€ ä½¿ç”¨æ–¹æ³•

1. **å¯åŠ¨å·¥å…·**ï¼š
   ```bash
   bash datasets/start_web_annotation.sh
   ```

2. **è®¿é—®ç•Œé¢**ï¼š
   åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:9090`

3. **é€‰æ‹©ç›®å½•**ï¼š
   - å›¾åƒç›®å½•ä¸‹æ‹‰èœå•æ˜¾ç¤ºæ‰€æœ‰å±‚çº§çš„å›¾åƒç›®å½•
   - æ ‡ç­¾ç›®å½•ä¸‹æ‹‰èœå•æ˜¾ç¤ºæ‰€æœ‰å±‚çº§çš„æ ‡ç­¾ç›®å½•
   - å¯ä»¥é€‰æ‹©ä»»æ„æ·±åº¦çš„å­ç›®å½•

4. **ç¤ºä¾‹é€‰æ‹©**ï¼š
   - å›¾åƒç›®å½•ï¼š`datasets/coco8/images/train`
   - æ ‡ç­¾ç›®å½•ï¼š`datasets/coco8/labels/train`

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### é€’å½’æ‰«æé€»è¾‘

```python
# ä½¿ç”¨ os.walk é€’å½’éå†æ‰€æœ‰å­ç›®å½•
for root, dirs, files in os.walk(datasets_dir):
    # è·å–ç›¸å¯¹è·¯å¾„
    rel_path = os.path.relpath(root, self.base_dir)
    
    # è·³è¿‡ datasets æ ¹ç›®å½•æœ¬èº«
    if rel_path == 'datasets':
        continue
    
    # æ£€æŸ¥å½“å‰ç›®å½•æ˜¯å¦åŒ…å«å›¾åƒæˆ–æ ‡ç­¾æ–‡ä»¶
    # æ·»åŠ åˆ°ç›¸åº”çš„ç›®å½•åˆ—è¡¨
```

### è·¯å¾„å¤„ç†

- **ç›¸å¯¹è·¯å¾„**ï¼šä½¿ç”¨ `os.path.relpath()` è®¡ç®—ç›¸å¯¹è·¯å¾„
- **å±‚çº§è¯†åˆ«**ï¼šé€šè¿‡è·¯å¾„åˆ†éš”ç¬¦è®¡ç®—ç›®å½•å±‚çº§
- **æ ¹ç›®å½•è·³è¿‡**ï¼šé¿å…åŒ…å« `datasets` æ ¹ç›®å½•

### æ–‡ä»¶æ£€æµ‹

- **å›¾åƒæ–‡ä»¶**ï¼š`.jpg`, `.jpeg`, `.png`, `.bmp`, `.tiff`, `.webp`
- **æ ‡ç­¾æ–‡ä»¶**ï¼š`.txt` æ–‡ä»¶
- **å®æ—¶æ£€æµ‹**ï¼šæ¯ä¸ªç›®å½•éƒ½è¿›è¡Œæ–‡ä»¶ç±»å‹æ£€æµ‹

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½è€ƒè™‘**ï¼šæ·±å±‚ç›®å½•ç»“æ„å¯èƒ½å½±å“æ‰«ææ€§èƒ½
2. **æƒé™è¦æ±‚**ï¼šéœ€è¦å¯¹æ‰€æœ‰å­ç›®å½•æœ‰è¯»å–æƒé™
3. **è·¯å¾„é•¿åº¦**ï¼šæ³¨æ„æ“ä½œç³»ç»Ÿçš„è·¯å¾„é•¿åº¦é™åˆ¶
4. **ç¬¦å·é“¾æ¥**ï¼š`os.walk()` ä¼šè·Ÿéšç¬¦å·é“¾æ¥

## ğŸ¯ åç»­ä¼˜åŒ–

1. **ç¼“å­˜æœºåˆ¶**ï¼šç¼“å­˜ç›®å½•æ‰«æç»“æœ
2. **å¢é‡æ‰«æ**ï¼šåªæ‰«æå˜æ›´çš„ç›®å½•
3. **è¿‡æ»¤é€‰é¡¹**ï¼šæ”¯æŒç›®å½•æ·±åº¦é™åˆ¶
4. **æ€§èƒ½ç›‘æ§**ï¼šæ·»åŠ æ‰«ææ€§èƒ½ç»Ÿè®¡

## ğŸ“Š æ€§èƒ½ç»Ÿè®¡

- **æ‰«æç›®å½•æ•°**ï¼š9 ä¸ªç›®å½•
- **å¤šçº§ç›®å½•æ•°**ï¼š8 ä¸ª
- **æœ€å¤§æ·±åº¦**ï¼š3 çº§
- **æ‰«ææ—¶é—´**ï¼š< 1 ç§’

---

**ä¿®æ”¹å®Œæˆæ—¶é—´**ï¼š2024-01-XX  
**æµ‹è¯•çŠ¶æ€**ï¼šâœ… é€šè¿‡  
**éƒ¨ç½²çŠ¶æ€**ï¼šâœ… å¯ç”¨
